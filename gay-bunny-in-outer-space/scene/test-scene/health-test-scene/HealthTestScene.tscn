[gd_scene load_steps=18 format=3 uid="uid://cittq6x4d2jml"]

[ext_resource type="Script" uid="uid://uevrkia0cs2q" path="res://script/GameStateMachine.gd" id="1_oym50"]
[ext_resource type="PackedScene" uid="uid://swutdc1evgl4" path="res://scene/component/character-controller/lagomorph/Lagomorph.tscn" id="2_1tt0q"]
[ext_resource type="PackedScene" uid="uid://3wafjvrbrsnu" path="res://scene/component/player/Player.tscn" id="3_3s7y8"]
[ext_resource type="Script" uid="uid://c3ifgt6qqvmfc" path="res://scene/test-scene/health-test-scene/CubeThatFuckingKillsYou.gd" id="4_u6mlh"]
[ext_resource type="PackedScene" uid="uid://davy0pnn4hbg6" path="res://scene/component/interaction/InteractionTarget.tscn" id="5_kuxcq"]
[ext_resource type="PackedScene" uid="uid://b7jbxl3j623u8" path="res://scene/component/ui/UI.tscn" id="6_2cdca"]
[ext_resource type="PackedScene" uid="uid://bsoxa5hjbmha7" path="res://scene/component/audio/SfxPlayer.tscn" id="7_1tt0q"]
[ext_resource type="PackedScene" uid="uid://dv01buy4eydlv" path="res://scene/component/audio/MusicPlayer.tscn" id="8_3s7y8"]

[sub_resource type="PlaneMesh" id="PlaneMesh_kp0o2"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_kpfug"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_xvrxb"]

[sub_resource type="Sky" id="Sky_6j6x2"]
sky_material = SubResource("ProceduralSkyMaterial_xvrxb")

[sub_resource type="Environment" id="Environment_c2xuk"]
background_mode = 2
sky = SubResource("Sky_6j6x2")

[sub_resource type="BoxShape3D" id="BoxShape3D_udf6y"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ea1hi"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_rtlwv"]
material = SubResource("StandardMaterial3D_ea1hi")

[sub_resource type="BoxShape3D" id="BoxShape3D_ion4p"]

[node name="HealthTestScene" type="Node3D" node_paths=PackedStringArray("player", "creatures", "sfxPlayer", "musicPlayer", "environment")]
script = ExtResource("1_oym50")
player = NodePath("Player")
creatures = [NodePath("Lagomorph")]
sfxPlayer = NodePath("SfxPlayer")
musicPlayer = NodePath("MusicPlayer")
environment = NodePath("WorldEnvironment")

[node name="Floor" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(3.105, 0, 0, 0, 3.105, 0, 0, 0, 3.105, 0, 0, 0)
mesh = SubResource("PlaneMesh_kp0o2")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(3.105, 0, 0, 0, 3.105, 0, 0, 0, 3.105, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_kpfug")

[node name="Lagomorph" parent="." instance=ExtResource("2_1tt0q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.38078985, 0.8373318, -1.6212304)
base_move_speed = 5.0
run_multiplier = 1.6

[node name="Player" parent="." node_paths=PackedStringArray("main_bound_entity", "ui_controller", "possessed_control_entity") instance=ExtResource("3_3s7y8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.82149583, 0)
main_bound_entity = NodePath("../Lagomorph")
ui_controller = NodePath("../UI")
possessed_control_entity = NodePath("../Lagomorph")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.32444572, 0.7810655, -0.53354627, 0, 0.56405944, 0.8257342, 0.9459043, -0.26790592, 0.18300667, -7.602596, 2.1128106, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c2xuk")

[node name="Floor2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9396687, -0.34208575, 0, 0.34208575, 0.9396687, 0, 0, -5.9639482)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(3.105, 0, 0, 0, 3.105, 0, 0, 0, 3.105, 0, 0, 0)
mesh = SubResource("PlaneMesh_kp0o2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(3.105, 0, 0, 0, 3.105, 0, 0, 0, 3.105, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_kpfug")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6082926, 1.1806146)
collision_layer = 512
collision_mask = 512
script = ExtResource("4_u6mlh")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_udf6y")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_rtlwv")

[node name="InteractionTarget" parent="StaticBody3D" instance=ExtResource("5_kuxcq")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D/InteractionTarget"]
shape = SubResource("BoxShape3D_ion4p")

[node name="UI" parent="." instance=ExtResource("6_2cdca")]

[node name="SfxPlayer" parent="." instance=ExtResource("7_1tt0q")]

[node name="MusicPlayer" parent="." instance=ExtResource("8_3s7y8")]
